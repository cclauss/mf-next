/*global goog:true, ga:true*/
/*jslint indent: 2, nomen: true, vars: true */

/**
 * @fileoverview ga.Defs is a singleton containing basic definitions used throughout the library
 * * @author gilbert.jeiziner@swisstopo.ch
 */

goog.provide('ga.Defs');

/**
 * This is a singleton. The single instance of this class can be accessed wiht {ga.Defs.getInstance()}.
 * It will always return the same instance.
 * @constructor
 * @export
 */
ga.Defs = function () {
  'use strict';

  if (ga.Defs.instance_) {
    return ga.Defs.instance_;
  }

  /**
   * @type {string}
   * @private
   */
  this.protocol_ = null;

  ga.Defs.instance_ = this;
};

/**
 * @export
 */
ga.Defs.prototype.protocol = function () {
  'use strict';
  if (this.protocol_ === null) {
    this.protocol_ = document.location.protocol;
  }
  return this.protocol_;
};

/**
 * @export
 */
ga.Defs.prototype.webServiceUrl = function () {
  'use strict';
  return this.protocol() + '${ga-webservice-url}';
};

/**
 * Static function to get instance of singleton
 * @export
 */
ga.Defs.getInstance = function () {
  'use strict';
  if (ga.Defs.instance_) {
    return ga.Defs.instance_;
  }
  return new ga.Defs();
};


